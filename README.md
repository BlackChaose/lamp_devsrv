###  **Шаблон локального сервера разработки:**

- **MySQL**: У нас есть стандартный контейнер для работы с MySQL
- **MySQL-test**: Тестовая БД, на которой можно смело гонять юнит-тесты
  
- **Apache**: Это основной контейнер для обработки веб-запросов Apache
- **PHPFPM**: Это контейнер с php-fpm, для обработки php скриптов

- **Node.js**: Мы добавили контейнер для Node.js, который будет использоваться для работы с фронтенд-зависимостями, такими как npm, Webpack и другими инструментами. Этот контейнер использует официальный образ `node:16`, и мы монтируем папку `./projects` на хосте в контейнер, чтобы всё, что ты будешь разрабатывать, автоматически подхватывалось. В этом контейнере ты сможешь запускать npm-скрипты (например, для сборки с Webpack) и работать с фронтендом.

- **Composer**: Добавлен контейнер для Composer, который будет использоваться для установки зависимостей PHP (например, для Laravel). Мы монтируем папку с кодом проекта в контейнер, чтобы Composer мог управлять зависимостями для Laravel.
- **Exim-dev**: Добавлен контейнер с локальным тестовым почтовым сервером, для теста почтовых рассылок и работы почты. Фактически письма пишутся в файл.
- **.env**: Файл с переменными окружения - требует настройки, т.е. надо добавить пароли, ид, имена и т.д. (переименуй и исправь .env.example)
- **php.ini**: Файл с настройками php - требует настройки,т.к. у всех свои предпочтения (переименуй и исправь файл .php.ini.example)
- **ssl/**: Папка с самоподписанными ssl-сертификатами - здесь должны лежать сертификаты, нужна для запуска стенда с проектами по протоколу https
- **selfsigned_cert.sh**: Bash-скрипт для создания самоподписанных сертификатов
---


### **Рабочий процесс**

1. **Laravel**:
   - Для работы с Laravel ты будешь использовать контейнер с PHP-FPM (который уже настроен). Если нужно установить зависимости с помощью Composer, можно подключиться к контейнеру `composer` и запустить необходимые команды, например:
   
   ```bash
   docker-compose run --rm composer install
   ```
   
   Это установит все зависимости проекта Laravel.
   
2. **Node.js + npm + Webpack**:
   - Чтобы работать с фронтенд-инструментами, такими как npm или Webpack, ты можешь подключиться к контейнеру `node`:
   
   ```bash
   docker-compose run --rm node npm install
   ```
   
   Или запустить Webpack для сборки:
   
   ```bash
   docker-compose run --rm node npm run build
   ```
   
   Это будет работать внутри контейнера Node.js, который использует твою директорию с проектом.

3. **Тестирование и разработка**:
   - Когда ты редактируешь файлы проекта на хосте в папке `./projects`, эти изменения автоматически подхватываются контейнерами (и веб-сервером Apache, и Node.js, и PHP).
   - Ты можешь запускать необходимые команды внутри контейнеров и работать с различными зависимостями, без необходимости пересоздавать образы или копировать файлы.

---

###  **Полезные команды**

- Запуск контейнеров в фоновом режиме (без пересборки образов):
  
  ```bash
  docker-compose up
  ```

- Запуск контейнеров с пересборкой, если изменился Dockerfile или другие важные файлы:

  ```bash
  docker-compose up --build
  ```

- Подключение к контейнеру для запуска команды, например, установка зависимостей с помощью Composer:
  
  ```bash
  docker-compose run --rm composer install
  ```

- Подключение к контейнеру с Node.js для работы с npm или Webpack:

  ```bash
  docker-compose run --rm node npm run build
  ```
